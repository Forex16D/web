<div class="max-w-md mx-auto px-4 sm:px-6 lg:px-8 bg-gray-800 rounded-xl shadow-lg overflow-hidden">
  <!-- Header with logo -->
  <div class="flex justify-center pt-8">
    <app-logo size="48px" class="cursor-pointer" routerLink="/"></app-logo>
  </div>

  <!-- Register Heading -->
  <div class="text-center mt-6">
    <h1 class="text-3xl font-bold text-white">Create Your Account</h1>
    <p class="text-gray-400 mt-2">Join thousands of traders using AI-powered insights</p>
  </div>

  <!-- Form -->
  <form pFocusTrap [formGroup]="credentialForm" (ngSubmit)="register()" class="mt-8 space-y-6">
    <!-- Email Field -->
    <div class="space-y-2">
      <label for="email" class="block text-sm font-medium text-gray-300">Email Address</label>
      <input id="email" type="email" pInputText class="block w-full pl-10 bg-gray-700 border-gray-600 rounded-lg"
        placeholder="your.email@example.com" formControlName="email" />
      <p-message *ngIf="submitted && credentialForm.get('email')?.invalid" severity="error"
        text="Please enter a valid email address"></p-message>
    </div>

    <!-- Password Field -->
    <div class="space-y-2">
      <label for="password" class="block text-sm font-medium text-gray-300">Password</label>
      <p-password id="password" [toggleMask]="true" [feedback]="true" [style]="{'width':'100%'}"
        [inputStyle]="{'width':'100%', 'background-color': 'rgb(55, 65, 81)', 'border-color': 'rgb(75, 85, 99)'}"
        placeholder="Create a strong password" formControlName="password">
        <ng-template pTemplate="header">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none" style="z-index: 1;">
            <i class="pi pi-lock text-gray-500"></i>
          </div>
        </ng-template>
      </p-password>
      <p-message *ngIf="submitted && credentialForm.get('password')?.invalid" severity="error"
        text="Password must be at least 6 characters long"></p-message>
    </div>

    <!-- Confirm Password Field -->
    <div class="space-y-2">
      <label for="confirm-password" class="block text-sm font-medium text-gray-300">Confirm Password</label>
      <p-password id="confirm-password" [toggleMask]="true" [feedback]="false" [style]="{'width':'100%'}"
        [inputStyle]="{'width':'100%', 'background-color': 'rgb(55, 65, 81)', 'border-color': 'rgb(75, 85, 99)'}"
        placeholder="Confirm your password" formControlName="confirmPassword">
        <ng-template pTemplate="header">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none" style="z-index: 1;">
            <i class="pi pi-lock text-gray-500"></i>
          </div>
        </ng-template>
      </p-password>
      <p-message *ngIf="submitted && confirmPasswordError" severity="error" [text]="confirmPasswordError">
      </p-message>
    </div>

    <!-- Terms and Conditions -->
    <div class="space-y-2">
      <div class="flex items-start">
        <div class="flex items-center h-5">
          <p-checkbox formControlName="acceptTerms" [binary]="true" inputId="acceptTerms"></p-checkbox>
        </div>
        <div class="ml-3 text-sm">
          <label for="acceptTerms" class="text-gray-300">
            I agree to the <a href="javascript:void(0)" routerLink="/terms-and-conditions"
              class="text-green-400 hover:text-green-300">Terms and Conditions</a>
          </label>
        </div>
      </div>
      <p-message *ngIf="submitted && credentialForm.get('acceptTerms')?.invalid" severity="error"
        text="You must accept the terms and conditions"></p-message>
    </div>

    <!-- Submit Button -->
    <div>
      <button pButton type="submit" class="w-full p-button-success" [loading]="loading" label="Create Account"></button>
    </div>

    <!-- Already have account link -->
    <div class="text-center text-sm text-gray-400 mt-4">
      Already have an account?
      <a routerLink="/login" class="text-green-400 hover:text-green-300">Log in</a>
    </div>
  </form>

  <div class="py-6 flex justify-center items-center space-x-6 border-t border-gray-700 mt-8">
    <a href="#" class="text-gray-400 hover:text-white">
      <i class="pi pi-question-circle text-xl"></i>
    </a>
    <a href="#" class="text-gray-400 hover:text-white">
      <i class="pi pi-shield text-xl"></i>
    </a>
    <a href="#" class="text-gray-400 hover:text-white">
      <i class="pi pi-info-circle text-xl"></i>
    </a>
  </div>
</div>

<!-- Toast for notifications -->
<p-toast></p-toast>

<!-- Terms and Conditions Dialog -->
<p-dialog header="Terms and Conditions" [(visible)]="termsVisible" [style]="{width: '90vw', maxWidth: '600px'}"
  [modal]="true" [draggable]="false" [resizable]="false" styleClass="terms-dialog">
  <div class="terms-content max-h-96 overflow-y-auto p-4">
    <h2 class="text-lg font-bold mb-3">TradingAI Platform Terms of Service</h2>

    <p class="mb-4">Welcome to TradingAI. By creating an account, you agree to comply with and be bound by the following
      terms and conditions:</p>

    <h3 class="font-bold mb-2">1. Account Registration</h3>
    <p class="mb-3">You must provide accurate and complete information when creating your account. You are responsible
      for maintaining the security of your account credentials and for all activities that occur under your account.</p>

    <h3 class="font-bold mb-2">2. Risk Disclosure</h3>
    <p class="mb-3">Trading financial instruments involves significant risk and may not be suitable for all investors.
      The high degree of leverage can work against you as well as for you. You should carefully consider whether trading
      is appropriate for you in light of your experience, objectives, financial resources, and other relevant
      circumstances.</p>

    <h3 class="font-bold mb-2">3. AI-Powered Insights</h3>
    <p class="mb-3">While our platform provides AI-driven analysis and recommendations, these should not be considered
      as financial advice. All trading decisions should be made by you after conducting your own analysis.</p>

    <h3 class="font-bold mb-2">4. Copy Trading</h3>
    <p class="mb-3">When using our copy trading feature, you acknowledge that past performance is not indicative of
      future results. The performance of copied traders may not be replicated and could result in losses.</p>

    <h3 class="font-bold mb-2">5. Service Availability</h3>
    <p class="mb-3">We strive to provide uninterrupted access to our platform, but we do not guarantee continuous,
      uninterrupted access to our services. System failures and other events may cause service interruptions.</p>

    <h3 class="font-bold mb-2">6. Privacy Policy</h3>
    <p class="mb-3">Your use of our services is also governed by our Privacy Policy, which outlines how we collect, use,
      and protect your personal information.</p>

    <h3 class="font-bold mb-2">7. Intellectual Property</h3>
    <p class="mb-3">All content on the TradingAI platform, including but not limited to text, graphics, logos, and
      software, is our property and is protected by intellectual property laws.</p>

    <h3 class="font-bold mb-2">8. Termination</h3>
    <p class="mb-3">We reserve the right to suspend or terminate your account at our discretion, particularly if we
      detect any violation of these terms or suspicious activity.</p>

    <h3 class="font-bold mb-2">9. Changes to Terms</h3>
    <p class="mb-3">We may modify these terms at any time. Continued use of our platform after changes indicates your
      acceptance of the modified terms.</p>

    <h3 class="font-bold mb-2">10. Governing Law</h3>
    <p class="mb-3">These terms are governed by and construed in accordance with applicable laws, without regard to
      conflict of laws principles.</p>

    <p class="mt-6 font-bold">By clicking "I Agree" or creating an account, you acknowledge that you have read,
      understood, and agree to be bound by these terms.</p>
  </div>
  <ng-template pTemplate="footer">
    <button pButton type="button" (click)="acceptTerms()" label="I Agree" class="p-button-success"></button>
    <button pButton type="button" (click)="termsVisible = false" label="Close" class="p-button-outlined"></button>
  </ng-template>
</p-dialog>