<div class="flex flex-col h-full">
  <!-- Stats Header -->
  <div class="grid grid-cols-4 gap-4 mb-6">
    <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
      <h3 class="text-gray-400 text-sm mb-2">Active Experts</h3>
      <p class="text-2xl font-medium">{{stats.activeExperts}}</p>
    </div>
    <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
      <h3 class="text-gray-400 text-sm mb-2">Overall Performance</h3>
      <p class="text-2xl font-medium text-green-400">{{stats.performance}}</p>
    </div>
    <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
      <h3 class="text-gray-400 text-sm mb-2">Active Traders</h3>
      <p class="text-2xl font-medium">{{stats.activeTraders}}</p>
    </div>
    <div class="bg-gray-800 rounded-lg p-4 border border-gray-700">
      <h3 class="text-gray-400 text-sm mb-2">Trading Volume</h3>
      <p class="text-2xl font-medium">{{stats.volume}}</p>
    </div>
  </div>

  <!-- Filters -->
  <div class="flex justify-between items-center mb-6">
    <div class="flex items-center gap-4">
      <p-selectButton [options]="[
        {label: 'All', value: 'all'},
        {label: 'Top 10', value: 'top'},
        {label: 'New', value: 'new'}
      ]" [(ngModel)]="selectedView" (onChange)="onViewTypeChange($event)"></p-selectButton>
    </div>

    <div class="flex items-center gap-4">
      <p-dropdown [options]="[
        {label: 'All Symbols', value: 'all'},
        {label: 'Forex', value: 'forex'},
        {label: 'Crypto', value: 'crypto'},
        {label: 'Commodities', value: 'commodities'}
      ]" [(ngModel)]="symbolFilter" placeholder="Filter by Symbol"
        (onChange)="onSymbolFilterChange($event)"></p-dropdown>

      <span class="p-input-icon-left">
        <i class="pi pi-search"></i>
        <input type="text" pInputText [(ngModel)]="searchQuery" placeholder="Search experts" (keyup.enter)="onSearch()">
      </span>
    </div>
  </div>

  <!-- Expert Cards Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
      <app-expert-card
        *ngFor="let expert of filteredExperts | slice:first:(first+rows)"
        [portfolio]="expert">
      </app-expert-card>
    </div>

  <!-- Pagination -->
  <div class="mt-auto pt-4">
    <p-paginator [first]="first" [rows]="rows" [totalRecords]="totalRecords" [rowsPerPageOptions]="[9, 18, 27]"
      (onPageChange)="onPageChange($event)">
    </p-paginator>
  </div>
</div>